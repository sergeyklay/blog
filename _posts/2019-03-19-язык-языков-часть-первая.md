---
layout: post
title: Язык языков. Часть первая
date: '2019-03-19 10:06:34'
excerpt: >-
  Этой статьей я начинаю серию небольших статей,  посвященную формальным
  грамматикам, системам описания грамматик, BNF и синтаксису языков.
---
В этой статье объясняются грамматики и общие системы описания грамматик, такие как Backus-Naur Form (BNF), Extended Backus-Naur Form (EBNF) и регулярное расширение грамматики Backus-Naur Form (ABNF). Данный текст не претендует на академическую точность и носит скорее ознакомительный, водный характер.

Очевидно, что я не являюсь очевидцем тех или иных событий, которые опишу ниже. Всё, что вы узнаете из этой статьи, не является авторским текстом.

Прочитав эту статью, вы сможете идентифицировать и интерпретировать все часто используемые обозначения для грамматик. По мере повествования я буду указывать ссылки на дополнительные материалы, ознакомившись с которыми, вы сможете получить более исчерпывающую информацию.

Статья разбита на несколько частей. Это — первая часть.

## Мотивация

Причины, по которым вам может быть интересна или даже полезна данная статья мне не известны. На сегодняшний день, род моей деятельности тесно связан с разработкой нескольких языков. И при изучении данной темы мною двигала любознательность и желание понять истоки тех инструментов, которыми я ежедневно пользуюсь. Мне постоянно попадалась противоречивая информация относительно темы данной статьи. Знакомые, книги, интернет — неточности были везде. И из-за того, что противоречивости окончательно меня запутали, я решил как-то систематизировать свои знания, в том числе восполнить пробелы.

Я не хотел бы, да и не смог бы перечислять все возможные области человеческой деятельности, где предмет данной статьи может быть вам полезен. Однако вот некоторые из них:

* Вы занимаетесь разработкой статического анализатора кода
* Вы занимаетесь разработкой нового языка
* Вы хотели бы добавить новые возможности в текущий язык
* Вы занимаетесь синтаксическим анализом некоторого текста, например заголовки HTTP запросов
* Вы разрабатываете поддержку некоторого языка в Emacs/Vim/SublimeTesx/ItelliJ/Atom
* Вы разрабатываете новый шаблонизатор для вашего веб-фреймворка
* Вы хотели бы разработать клиент для обмена сообщениями с некоторым демоном, но для этого нужно научится читать из сокета, куда пишет демон
* Вы хотели бы иметь возможность “конвертировать” код на исходном языке из одной версии этого языка, в другую или даже в другой целевой язык
* Вы хотели бы глубже изучить используемый язык
* Все те области деятельности, где вы часто употребляете слово “распарсить” 

Итак, я надеюсь, я натолкну вас на любопытные умозаключения и дальнейшие исследования.

## Определение языка

В информатике языки определяют область вычислений. Например, областью вычислений языка SQL является база данных, а HTML используется как язык разметки веб-страницы.

Языки программирования, спецификация протоколов, языки запросов, форматы файлов, языки шаблонов, формальные языки, конфигурационные файлы, языки разметки, языки форматирования и мета-языки определяют способ, которым мы проводим вычисления. Все они накладывают некоторые требования (ограничения) к способу и области вычислений, фактически формируя то, как мы эти вычисления производим.

А что формирует сами языки? Что накладывает них ограничения и диктует правила? Языки определяются двумя вещами: /синтаксисом/ и /семантикой/. Под синтаксисом обычно понимают то, что с помощью языка можно выразить (сказать, написать), а семантика — это как следует интерпретировать выраженное. В идеальном мире и синтаксис, и семантика должным быть /формально/ определены. Когда в контексте языков говорят "формально", то подразумевают некоторое абстрактное описание, не привязанное к какой либо реализации.

И если с описанием семантики в современных реалиях всё достаточно сложно, то описание синтаксиса присутствует в каждом языке, путь даже и не всегда формально.

Описанием синтаксиса занимаются /грамматики/. Грамматики являются языками языков. За каждым языком стоит своя грамматика, которая определяет его структуру и набор допустимых лексем. Язык не может выйти за рамки своей грамматики и полностью ею формируется. Грамматика однозначно определяет язык, но один и тот же язык может быть порождён разными грамматиками.

Саму идею, как то описать и определить язык можно проследить по крайней мере до работ [Pāṇini](https://en.wikipedia.org/wiki/P%C4%81%E1%B9%87ini) (древнеиндийского грамматика санскрита и известного ученого в индуизме, жившего где то между VII и IV веками до н.э.). Его нотация, описывающая нотацию санскритской структуры слова, по силе эквивалентна нотации, которую уже в наше время разработал [Джон Бэкус](https://en.wikipedia.org/wiki/John_Backus) и имеет много схожих свойств.

По широко известной [классификации](https://en.wikipedia.org/wiki/Chomsky_hierarchy) [Ноама Хомского](https://en.wikipedia.org/wiki/Noam_Chomsky), существует четыре вида грамматик:

1. Неограниченная
2. Контекстно-зависимая
3. Контекстно-свободная
4. Регулярная

В информатике наиболее распространённым типом грамматики является _контекстно-свободная грамматика_. Смысл термина "контекстно-свободная" заключается в том, что контекстно-свободные языки не позволяют выражать зависимость от контекста. Например в языке Си, выражение `a * b`, в зависимости от значений `a` и `b` может означать объявление указателя, либо мультипликативное выражение. Контекстно свободные грамматики являются ниспадающими, то есть некоторые объекты, обозначающие какую-либо сущность языка выражают в терминах других объектов, которые в свою очередь, можно выразить в терминах третьих объектов и так далее.

И в этой статье мы сфокусируемся именно на таких грамматиках. Контекстно-свободные грамматики достаточно богаты, чтобы описать рекурсивную синтаксическую структуру многих (хотя, конечно же, не всех) языков.

## Компоненты контекстно-свободной грамматики
